---
http_interactions:
- request:
    method: get
    uri: https://api.sandbox.midtrans.com/v2/token?card_cvv=123&card_exp_month=1&card_exp_year=2020&card_number=4811111111111114&client_key=VT-client-NArmatJZqzsmTmzR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Veritrans ruby gem 2.3.0
      Authorization:
      - Basic VlQtc2VydmVyLTlIdGItUnhYa2c3LTdoem5TQ0NqeHZvWTo=
      Accept:
      - application/json
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 03 Apr 2019 18:55:44 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '170'
      Connection:
      - keep-alive
      Pragma:
      - no-cache
      Cache-Control:
      - no-cache
      X-Kong-Upstream-Latency:
      - '43'
      X-Kong-Proxy-Latency:
      - '0'
      Via:
      - kong/0.14.0
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains;
    body:
      encoding: ASCII-8BIT
      string: '{"status_code":"200","status_message":"Credit card token is created
        as Token ID.","token_id":"481111-1114-7b87fe46-c989-4034-852f-110f712486f1","hash":"481111-1114-mami"}'
    http_version: 
  recorded_at: Sun, 31 Mar 2019 16:00:00 GMT
- request:
    method: post
    uri: https://api.sandbox.midtrans.com/v2/charge
    body:
      encoding: UTF-8
      string: '{"payment_type":"credit_card","credit_card":{"token_id":"481111-1114-7b87fe46-c989-4034-852f-110f712486f1"},"transaction_details":{"order_id":"1554048000","gross_amount":3000}}'
    headers:
      User-Agent:
      - Veritrans ruby gem 2.3.0
      Authorization:
      - Basic VlQtc2VydmVyLTlIdGItUnhYa2c3LTdoem5TQ0NqeHZvWTo=
      Accept:
      - application/json
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 03 Apr 2019 18:55:44 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '201'
      Connection:
      - keep-alive
      Pragma:
      - no-cache
      Cache-Control:
      - no-cache
      X-Kong-Upstream-Latency:
      - '22'
      X-Kong-Proxy-Latency:
      - '1'
      Via:
      - kong/0.14.0
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains;
    body:
      encoding: ASCII-8BIT
      string: '{"status_code":"406","status_message":"The request could not be completed
        due to a conflict with the current state of the target resource, please try
        again","id":"7b87fe46-c989-4034-852f-110f712486f1"}'
    http_version: 
  recorded_at: Sun, 31 Mar 2019 16:00:00 GMT
- request:
    method: post
    uri: https://api.sandbox.midtrans.com/v2/1554048000/deny
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      User-Agent:
      - Veritrans ruby gem 2.3.0
      Authorization:
      - Basic VlQtc2VydmVyLTlIdGItUnhYa2c3LTdoem5TQ0NqeHZvWTo=
      Accept:
      - application/json
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 03 Apr 2019 18:55:44 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '122'
      Connection:
      - keep-alive
      Pragma:
      - no-cache
      Cache-Control:
      - no-cache
      X-Kong-Upstream-Latency:
      - '27'
      X-Kong-Proxy-Latency:
      - '5'
      Via:
      - kong/0.14.0
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains;
    body:
      encoding: ASCII-8BIT
      string: '{"status_code":"412","status_message":"Transaction status cannot be
        updated.","id":"cd658a44-5589-49df-9357-a2f4317c612f"}'
    http_version: 
  recorded_at: Sun, 31 Mar 2019 16:00:00 GMT
recorded_with: VCR 4.0.0
