  [1m[35m (3.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `cable_test`[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE `cable_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE `chats` (`id` int AUTO_INCREMENT PRIMARY KEY, `sender_id` varchar(255) NOT NULL, `text` text NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `avatar` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES ('20161215072021')[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20161215070044');

[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'test', '2016-12-15 07:50:56', '2016-12-15 07:50:56')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 07:50:56', '2016-12-15 07:50:56', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 07:50:56', '2016-12-15 07:50:56', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyString', '2016-12-15 07:50:56', '2016-12-15 07:50:56', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyString', '2016-12-15 07:50:56', '2016-12-15 07:50:56', 298486374)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 07:54:42', '2016-12-15 07:54:42', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 07:54:42', '2016-12-15 07:54:42', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyString', '2016-12-15 07:54:42', '2016-12-15 07:54:42', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyString', '2016-12-15 07:54:42', '2016-12-15 07:54:42', 298486374)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-15 14:54:42 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (166.6ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendered rooms/_chatbox.html.erb (22.1ms)
  Rendered rooms/index.html.erb within layouts/application (193.4ms)
Completed 500 Internal Server Error in 211ms (ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (9.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `cable_test`[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `cable_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3026829380235999870', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateChats (20161215070044)
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE `chats` (`id` int AUTO_INCREMENT PRIMARY KEY, `sender_id` varchar(255) NOT NULL, `text` text NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20161215070044')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20161215072021)
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `avatar` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20161215072021')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'test', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3026829380235999870')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `chats`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'chats'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'cable_test'
  AND fk.table_name = 'chats'
[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'cable_test'
  AND fk.table_name = 'users'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Adam', 'avatar1.jpg', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Wendy', 'avatar2.jpg', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Vcool', 'avatar3.jpg', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Christian', 'avatar4.jpg', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Barock', 'avatar5.jpg', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Yoseph', 'avatar6.jpg', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Hello world', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('4', 'Ayo ntar main FIFA oi!', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('2', 'Ah lu kalah mulu, bosen gue', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('5', 'Sad truth :(', '2016-12-15 07:54:57', '2016-12-15 07:54:57')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 08:52:10', '2016-12-15 08:52:10', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 08:52:10', '2016-12-15 08:52:10', 298486374)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('Adam', 'adam.jpg', '2016-12-15 08:52:10', '2016-12-15 08:52:10', 585460615)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-15 15:52:11 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (222.1ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendered rooms/_chatbox.html.erb (21.4ms)
  Rendered rooms/index.html.erb within layouts/application (248.7ms)
Completed 500 Internal Server Error in 269ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 585460615 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('585460615', 'Test', '2016-12-15 08:52:11', '2016-12-15 08:52:11')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (7.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `cable_test`[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `cable_test` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3026829380235999870', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateChats (20161215070044)
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE `chats` (`id` int AUTO_INCREMENT PRIMARY KEY, `sender_id` varchar(255) NOT NULL, `text` text NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20161215070044')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20161215072021)
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `avatar` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20161215072021')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'test', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('3026829380235999870')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `chats`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'chats'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'cable_test'
  AND fk.table_name = 'chats'
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'cable_test'
  AND fk.table_name = 'users'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Adam', 'avatar1.jpg', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Wendy', 'avatar2.jpg', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Vcool', 'avatar3.jpg', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Christian', 'avatar4.jpg', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Barock', 'avatar5.jpg', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`) VALUES ('Yoseph', 'avatar6.jpg', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Hello world', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('4', 'Ayo ntar main FIFA oi!', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('2', 'Ah lu kalah mulu, bosen gue', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('5', 'Sad truth :(', '2016-12-15 08:52:19', '2016-12-15 08:52:19')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 08:52:22', '2016-12-15 08:52:22', 980190962)[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 08:52:22', '2016-12-15 08:52:22', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('Adam', 'adam.jpg', '2016-12-15 08:52:22', '2016-12-15 08:52:22', 585460615)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-15 15:52:23 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (169.4ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendered rooms/_chatbox.html.erb (20.1ms)
  Rendered rooms/index.html.erb within layouts/application (194.9ms)
Completed 500 Internal Server Error in 213ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 585460615 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('585460615', 'Test', '2016-12-15 08:52:23', '2016-12-15 08:52:23')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 08:53:19', '2016-12-15 08:53:19', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', '2016-12-15 08:53:19', '2016-12-15 08:53:19', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `avatar`, `created_at`, `updated_at`, `id`) VALUES ('Adam', 'adam.jpg', '2016-12-15 08:53:19', '2016-12-15 08:53:19', 585460615)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-15 15:53:20 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (155.3ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 0 LIMIT 1[0m
  Rendered rooms/_chatbox.html.erb (90761.8ms)
  Rendered rooms/index.html.erb within layouts/application (90921.8ms)
Completed 500 Internal Server Error in 90938ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 585460615 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('585460615', 'Test', '2016-12-15 08:54:51', '2016-12-15 08:54:51')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-15 08:54:53', '2016-12-15 08:54:53', 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-15 08:54:53', '2016-12-15 08:54:53')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-15 15:54:53 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (153.7ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT  `chats`.* FROM `chats` ORDER BY `chats`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  Rendered rooms/_chatbox.html.erb (5607.4ms)
  Rendered rooms/index.html.erb within layouts/application (5765.6ms)
Completed 200 OK in 6321ms (Views: 6308.8ms | ActiveRecord: 2.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-15 08:54:59', '2016-12-15 08:54:59')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:15:36', '2016-12-16 09:15:36', 980190962)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:15:36', '2016-12-16 09:15:36')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:15:36', '2016-12-16 09:15:36')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 68d149a1-182b-4d07-91eb-e3319460663f) to Sidekiq(default) with arguments: #<GlobalID:0x007ffbb84d5740 @uri=#<URI::GID gid://cable/Chat/980190966>>
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:15:37 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (163.2ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (8.4ms)
  Rendered rooms/_chatbox.html.erb (12.1ms)
  Rendered rooms/index.html.erb within layouts/application (180.4ms)
Completed 200 OK in 656ms (Views: 644.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:19:54', '2016-12-16 09:19:54', 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:19:54', '2016-12-16 09:19:54')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:19:54', '2016-12-16 09:19:54')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: f0758c44-5bcb-4165-bc51-8bf9856ad462) to Sidekiq(default) with arguments: #<GlobalID:0x007f9670a932e8 @uri=#<URI::GID gid://cable/Chat/980190967>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:19:54 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (184.6ms)
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (16.7ms)
  Rendered rooms/_chatbox.html.erb (24.9ms)
  Rendered rooms/index.html.erb within layouts/application (214.7ms)
Completed 200 OK in 266ms (Views: 252.4ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:20:24', '2016-12-16 09:20:24', 980190962)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:20:24', '2016-12-16 09:20:24')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:20:25 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (159.7ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (18.5ms)
  Rendered rooms/_chatbox.html.erb (26.2ms)
  Rendered rooms/index.html.erb within layouts/application (191.0ms)
Completed 200 OK in 235ms (Views: 223.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:20:25', '2016-12-16 09:20:25')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 6f4a8315-458e-4a03-9ab2-8ebd0fa5d447) to Sidekiq(default) with arguments: #<GlobalID:0x007ffdea3d6dd8 @uri=#<URI::GID gid://cable/Chat/980190968>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:21:27', '2016-12-16 09:21:27', 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:21:27', '2016-12-16 09:21:27')[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:21:28 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (177.0ms)
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (23.4ms)
  Rendered rooms/_chatbox.html.erb (45.5ms)
  Rendered rooms/index.html.erb within layouts/application (228.0ms)
Completed 200 OK in 274ms (Views: 261.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:21:28', '2016-12-16 09:21:28')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 21ee9997-38b8-4425-8a4d-a14ddd5fd1ef) to Sidekiq(default) with arguments: #<GlobalID:0x007fd7ebf14620 @uri=#<URI::GID gid://cable/Chat/980190969>>
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:27:01', '2016-12-16 09:27:01', 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:27:01', '2016-12-16 09:27:01')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:27:02 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (166.4ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (18.9ms)
  Rendered rooms/_chatbox.html.erb (26.7ms)
  Rendered rooms/index.html.erb within layouts/application (197.9ms)
Completed 200 OK in 265ms (Views: 252.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:27:02', '2016-12-16 09:27:02')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 7bb544c8-5d1f-4950-bec3-1906c09b75dd) to Sidekiq(default) with arguments: #<GlobalID:0x007fa60ff0c6b8 @uri=#<URI::GID gid://cable/Chat/980190970>>
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:27:18', '2016-12-16 09:27:18', 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:27:18', '2016-12-16 09:27:18')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:27:19 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (150.8ms)
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (15.8ms)
  Rendered rooms/_chatbox.html.erb (22.9ms)
  Rendered rooms/index.html.erb within layouts/application (178.3ms)
Completed 200 OK in 211ms (Views: 200.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:27:19', '2016-12-16 09:27:19')[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: f92d6101-9b04-436d-acf7-25794f5cd16e) to Sidekiq(default) with arguments: #<GlobalID:0x007f8c3304b520 @uri=#<URI::GID gid://cable/Chat/980190971>>
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:28:20', '2016-12-16 09:28:20', 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:28:20', '2016-12-16 09:28:20')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:28:20', '2016-12-16 09:28:20')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 2fe0a830-1ef4-49f1-8d56-973f1e040a6c) to Sidekiq(default) with arguments: #<GlobalID:0x007fadfe9036a8 @uri=#<URI::GID gid://cable/Chat/980190972>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:28:20 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (202.7ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (13.6ms)
  Rendered rooms/_chatbox.html.erb (17.9ms)
  Rendered rooms/index.html.erb within layouts/application (225.6ms)
Completed 200 OK in 286ms (Views: 263.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:28:39', '2016-12-16 09:28:39', 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:28:39', '2016-12-16 09:28:39')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:28:39', '2016-12-16 09:28:39')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 56aaf756-fef6-4043-862d-88a709e0a92f) to Sidekiq(default) with arguments: #<GlobalID:0x007ff376704cb8 @uri=#<URI::GID gid://cable/Chat/980190973>>
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:28:40 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (212.1ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (7.6ms)
  Rendered rooms/_chatbox.html.erb (13.3ms)
  Rendered rooms/index.html.erb within layouts/application (229.7ms)
Completed 200 OK in 268ms (Views: 257.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:30:07', '2016-12-16 09:30:07', 980190962)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:30:07', '2016-12-16 09:30:07')[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:30:08 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (158.0ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (20.2ms)
  Rendered rooms/_chatbox.html.erb (27.9ms)
  Rendered rooms/index.html.erb within layouts/application (190.7ms)
Completed 200 OK in 245ms (Views: 235.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:30:08', '2016-12-16 09:30:08')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: e0e3ef38-ef23-4224-ae72-e615dee24bb2) to Sidekiq(default) with arguments: #<GlobalID:0x007fedef9f01e8 @uri=#<URI::GID gid://cable/Chat/980190974>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:30:43', '2016-12-16 09:30:43', 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:30:43', '2016-12-16 09:30:43')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:30:43 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (155.6ms)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (17.2ms)
  Rendered rooms/_chatbox.html.erb (26.1ms)
  Rendered rooms/index.html.erb within layouts/application (185.9ms)
Completed 200 OK in 221ms (Views: 210.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:30:43', '2016-12-16 09:30:43')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 9472986e-b873-4bf2-b7a8-40a35a7684df) to Sidekiq(default) with arguments: #<GlobalID:0x007feac6e9aa80 @uri=#<URI::GID gid://cable/Chat/980190975>>
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:31:59', '2016-12-16 09:31:59', 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:31:59', '2016-12-16 09:31:59')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:32:00 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (190.0ms)
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (19.0ms)
  Rendered rooms/_chatbox.html.erb (26.5ms)
  Rendered rooms/index.html.erb within layouts/application (221.5ms)
Completed 200 OK in 264ms (Views: 252.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:32:00', '2016-12-16 09:32:00')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: ff462a33-1422-4523-8ef6-3161a1595f1b) to Sidekiq(default) with arguments: #<GlobalID:0x007fe93b652cb0 @uri=#<URI::GID gid://cable/Chat/980190976>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:32:09', '2016-12-16 09:32:09', 980190962)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:32:09', '2016-12-16 09:32:09')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:32:09', '2016-12-16 09:32:09')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: 665aac7c-7a74-4bb1-8fb0-37a3f7aca239) to Sidekiq(default) with arguments: #<GlobalID:0x007f9f8f5d29e8 @uri=#<URI::GID gid://cable/Chat/980190977>>
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:32:09 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (169.3ms)
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (8.3ms)
  Rendered rooms/_chatbox.html.erb (12.0ms)
  Rendered rooms/index.html.erb within layouts/application (188.7ms)
Completed 200 OK in 240ms (Views: 227.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `chats`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`, `id`) VALUES ('1', 'Test', '2016-12-16 09:36:45', '2016-12-16 09:36:45', 980190962)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `users`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `users` (`id`, `name`, `avatar`, `created_at`, `updated_at`) VALUES (1, 'Adam', 'adam.jpg', '2016-12-16 09:36:45', '2016-12-16 09:36:45')[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
ChatTest: test_1_item_in_the_text
---------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ChatTest: test_can_be_saved_to_the_database
-------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `chats` (`sender_id`, `text`, `created_at`, `updated_at`) VALUES ('1', 'Test', '2016-12-16 09:36:45', '2016-12-16 09:36:45')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ChatBroadcasterJob (Job ID: d63e5c7e-ca14-43b1-8191-8bdb4aa41e07) to Sidekiq(default) with arguments: #<GlobalID:0x007fae1cb3b9c0 @uri=#<URI::GID gid://cable/Chat/980190978>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
ChatTest: test_item_details_with_dots_separating_thousands
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_have_to_have_sender
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ChatTest: test_item_details_without_decimal_separators
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------
ChatTest: test_2_items_in_the_text
----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RoomsControllerTest: test_should_get_index
------------------------------------------
Started GET "/rooms" for 127.0.0.1 at 2016-12-16 16:36:45 +0700
Processing by RoomsController#index as HTML
  Rendering rooms/index.html.erb within layouts/application
  Rendered rooms/_online_people.html.erb (159.3ms)
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Rendered chats/_chat.html.erb (9.2ms)
  Rendered rooms/_chatbox.html.erb (14.3ms)
  Rendered rooms/index.html.erb within layouts/application (178.8ms)
Completed 200 OK in 226ms (Views: 213.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
